<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è - –¶–ü–°</title>
    <link rel="stylesheet" href="/frontend/auth/auth.css">
</head>
<body>
<!-- Header -->
<header>
        <div class="header-container">
            <a href="#" class="logo">–¶–ü–°</a>
            <ul class="nav-links">
                <li><a href="http://127.0.0.1:8000">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="http://127.0.0.1:8000/catalog">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                <li><a href="http://127.0.0.1:8000/about">–û –Ω–∞—Å</a></li>
            </ul>
            <a href="http://127.0.0.1:8000/profile" type="button" class="login-btn">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</a>
        </div>
    </header>

<!-- Page Title -->
<section class="page-title">
    <h1>–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
    <p>–í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å</p>
</section>

<!-- Auth Container -->
<div class="auth-container">
    <!-- Auth Box -->
    <div class="auth-box">
        <div class="auth-tabs">
            <div class="auth-tab active" data-tab="login">–í—Ö–æ–¥</div>
            <div class="auth-tab" data-tab="register">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</div>
        </div>

        <!-- Login Form -->
        <form class="auth-form active" id="login-form">
            <div class="success-message" id="login-success">
                –í—ã —É—Å–ø–µ—à–Ω–æ –≤–æ—à–ª–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç!
            </div>

            <div class="form-group">
                <label for="login-email">Email</label>
                <input type="email" id="login-email" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email">
                <div class="error-message" id="login-email-error">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email</div>
            </div>

            <div class="form-group">
                <label for="login-password">–ü–∞—Ä–æ–ª—å</label>
                <div class="password-container">
                    <input type="password" id="login-password" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à –ø–∞—Ä–æ–ª—å">
                    <button type="button" class="toggle-password" data-target="login-password">üëÅÔ∏è</button>
                </div>
                <div class="error-message" id="login-password-error">–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤</div>
            </div>


            <button type="submit" class="auth-btn" id="login-btn" onclick="login()">–í–æ–π—Ç–∏</button>

        </form>

        <!-- Register Form -->
        <form class="auth-form" id="register-form">
            <div class="success-message" id="register-success">
                –í—ã —É—Å–ø–µ—à–Ω–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–ª–∏—Å—å! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç.
            </div>

            <div class="form-group">
                <label for="register-name">–ò–º—è</label>
                <input type="text" id="register-name" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è">
                <div class="error-message" id="register-name-error">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è</div>
            </div>

            <div class="form-group">
                <label for="register-email">Email</label>
                <input type="email" id="register-email" class="form-control" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email">
                <div class="error-message" id="register-email-error">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email</div>
            </div>

            <div class="form-group">
                <label for="register-password">–ü–∞—Ä–æ–ª—å</label>
                <div class="password-container">
                    <input type="password" id="register-password" class="form-control" placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å">
                    <button type="button" class="toggle-password" data-target="register-password">üëÅÔ∏è</button>
                </div>
                <div class="error-message" id="register-password-error">–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤,
                    –≤–∫–ª—é—á–∞—è —Ü–∏—Ñ—Ä—ã –∏ –±—É–∫–≤—ã
                </div>
            </div>

            <div class="form-group">
                <label for="register-confirm-password">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</label>
                <div class="password-container">
                    <input type="password" id="register-confirm-password" class="form-control"
                           placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
                    <button type="button" class="toggle-password" data-target="register-confirm-password">üëÅÔ∏è</button>
                </div>
                <div class="error-message" id="register-confirm-password-error">–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç</div>
            </div>

            <button type="submit" class="auth-btn" id="register-btn" onclick="registration()">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
    </div>

</div>



<!-- Footer -->
<footer>
    <div class="footer-container">
        <div class="footer-col">
            <h3>–ù–∞–≤–∏–≥–∞—Ü–∏—è</h3>
            <ul>
                <li><a href="http://127.0.0.1:8000">–ì–ª–∞–≤–Ω–∞—è</a></li>
                <li><a href="http://127.0.0.1:8000/catalog">–ö–∞—Ç–∞–ª–æ–≥</a></li>
                <li><a href="http://127.0.0.1:8000/about">–û –Ω–∞—Å</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h3>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</h3>
            <ul>
                <li><a href="#">–û–¥–µ–∂–¥–∞</a></li>
                <li><a href="#">–ê–∫—Å–µ—Å—Å—É–∞—Ä—ã</a></li>
                <li><a href="#">–°—É–≤–µ–Ω–∏—Ä—ã</a></li>
            </ul>
        </div>
        <div class="footer-col">
            <h3>–ö–æ–Ω—Ç–∞–∫—Ç—ã</h3>
            <ul>
                <li>–ø—Ä–æ—Å–ø. –ù–∏–∫–æ–ª–∞—è –ö–æ—Ä—ã—Ç–∫–æ–≤–∞, 3–ì</li>
                <li>–¢–µ–ª–µ—Ñ–æ–Ω: +7 (4822) 44-32-44</li>
            </ul>
        </div>
    </div>
    <div class="copyright">
        <p>&copy; 2025 –¶–ü–°. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    </div>
</footer>

<script>
    // DOM Elements
    const authTabs = document.querySelectorAll('.auth-tab');
    const authForms = document.querySelectorAll('.auth-form');
    const togglePasswordBtns = document.querySelectorAll('.toggle-password');
    const forgotPasswordLink = document.getElementById('forgot-password-link');
    const resetPasswordModal = document.getElementById('reset-password-modal');
    const modalClose = document.querySelector('.modal-close');
    const loginForm = document.getElementById('login-form');
    const registerForm = document.getElementById('register-form');
    const resetBtn = document.getElementById('reset-btn');
    const loginSuccess = document.getElementById('login-success');
    const registerSuccess = document.getElementById('register-success');
    const resetSuccess = document.getElementById('reset-success');
    const termsAgree = document.getElementById('terms-agree');
    const registerBtn = document.getElementById('register-btn');

    // Tab switching
    authTabs.forEach(tab => {
        tab.addEventListener('click', () => {
            // Remove active class from all tabs and forms
            authTabs.forEach(t => t.classList.remove('active'));
            authForms.forEach(f => f.classList.remove('active'));

            // Add active class to clicked tab and corresponding form
            tab.classList.add('active');
            const formId = tab.dataset.tab + '-form';
            document.getElementById(formId).classList.add('active');

            // Hide success messages when switching tabs
            loginSuccess.classList.remove('visible');
            registerSuccess.classList.remove('visible');
        });
    });

    // Toggle password visibility
    togglePasswordBtns.forEach(btn => {
        btn.addEventListener('click', () => {
            const targetId = btn.dataset.target;
            const passwordInput = document.getElementById(targetId);

            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                btn.textContent = 'üîí';
            } else {
                passwordInput.type = 'password';
                btn.textContent = 'üëÅÔ∏è';
            }
        });
    });

    // Form validation functions
    function validateEmail(email) {
        const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return re.test(email);
    }

    function validatePassword(password) {
        return password.length >= 6;
    }

    function validateName(name) {
        return name.trim().length > 0;
    }

    function validatePasswordStrength(password) {
        // Password should be at least 6 characters and contain both letters and numbers
        const re = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$/;
        return re.test(password);
    }

    // Login form validation
    loginForm.addEventListener('submit', (e) => {
        e.preventDefault();

        const email = document.getElementById('login-email').value;
        const password = document.getElementById('login-password').value;
        let isValid = true;

        // Validate email
        if (!validateEmail(email)) {
            document.getElementById('login-email').classList.add('error');
            document.getElementById('login-email-error').classList.add('visible');
            isValid = false;
        } else {
            document.getElementById('login-email').classList.remove('error');
            document.getElementById('login-email-error').classList.remove('visible');
        }

        // Validate password
        if (!validatePassword(password)) {
            document.getElementById('login-password').classList.add('error');
            document.getElementById('login-password-error').classList.add('visible');
            isValid = false;
        } else {
            document.getElementById('login-password').classList.remove('error');
            document.getElementById('login-password-error').classList.remove('visible');
        }

        // If form is valid, submit
        if (isValid) {
            // Here you would typically send the data to your server
            // For demo purposes, we'll just show a success message
            loginSuccess.classList.add('visible');
            loginForm.reset();
        }
    });

    // Register form validation
    registerForm.addEventListener('submit', (e) => {
        e.preventDefault();

        const name = document.getElementById('register-name').value;
        const email = document.getElementById('register-email').value;
        const password = document.getElementById('register-password').value;
        const confirmPassword = document.getElementById('register-confirm-password').value;
        let isValid = true;

        // Validate name
        if (!validateName(name)) {
            document.getElementById('register-name').classList.add('error');
            document.getElementById('register-name-error').classList.add('visible');
            isValid = false;
        } else {
            document.getElementById('register-name').classList.remove('error');
            document.getElementById('register-name-error').classList.remove('visible');
        }

        // Validate email
        if (!validateEmail(email)) {
            document.getElementById('register-email').classList.add('error');
            document.getElementById('register-email-error').classList.add('visible');
            isValid = false;
        } else {
            document.getElementById('register-email').classList.remove('error');
            document.getElementById('register-email-error').classList.remove('visible');
        }

        // Validate password
        if (!validatePasswordStrength(password)) {
            document.getElementById('register-password').classList.add('error');
            document.getElementById('register-password-error').classList.add('visible');
            isValid = false;
        } else {
            document.getElementById('register-password').classList.remove('error');
            document.getElementById('register-password-error').classList.remove('visible');
        }

        // Validate confirm password
        if (password !== confirmPassword) {
            document.getElementById('register-confirm-password').classList.add('error');
            document.getElementById('register-confirm-password-error').classList.add('visible');
            isValid = false;
        } else {
            document.getElementById('register-confirm-password').classList.remove('error');
            document.getElementById('register-confirm-password-error').classList.remove('visible');
        }


        // If form is valid, submit
        if (isValid) {
            // Here you would typically send the data to your server
            // For demo purposes, we'll just show a success message
            registerSuccess.classList.add('visible');
            registerForm.reset();
        }
    });

</script>
<script type="module" src="/frontend/auth/auth.js"></script>
</body>
</html>